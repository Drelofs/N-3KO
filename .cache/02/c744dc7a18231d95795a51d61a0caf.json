{"id":"Of6t","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"../../utils/Class","loc":{"line":7,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"eventemitter3","loc":{"line":8,"column":27},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/eventemitter3/index.js"},{"name":"./events","loc":{"line":9,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/events/index.js"},{"name":"./Gamepad","loc":{"line":10,"column":22},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/Gamepad.js"},{"name":"../../utils/object/GetValue","loc":{"line":11,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/object/GetValue.js"},{"name":"../InputPluginCache","loc":{"line":12,"column":31},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputPluginCache.js"},{"name":"../events","loc":{"line":13,"column":26},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/gamepad/GamepadPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/events/index.js"}],"generated":{"js":"var e=require(\"../../utils/Class\"),t=require(\"eventemitter3\"),s=require(\"./events\"),i=require(\"./Gamepad\"),n=require(\"../../utils/object/GetValue\"),a=require(\"../InputPluginCache\"),d=require(\"../events\"),h=new e({Extends:t,initialize:function(e){t.call(this),this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,e.pluginEvents.once(d.BOOT,this.boot,this),e.pluginEvents.on(d.START,this.start,this)},boot:function(){var e=this.scene.sys.game,t=this.settings.input,s=e.config;this.enabled=n(t,\"gamepad\",s.inputGamepad)&&e.device.input.gamepads,this.target=n(t,\"gamepad.target\",s.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&this.startListeners(),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var e=this,t=this.target,s=function(t){!t.defaultPrevented&&e.isActive()&&(e.refreshPads(),e.queue.push(t))};this.onGamepadHandler=s,t.addEventListener(\"gamepadconnected\",s,!1),t.addEventListener(\"gamepaddisconnected\",s,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener(\"gamepadconnected\",this.onGamepadHandler),this.target.removeEventListener(\"gamepaddisconnected\",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update)},disconnectAll:function(){for(var e=0;e<this.gamepads.length;e++)this.gamepads.connected=!1},refreshPads:function(){var e=navigator.getGamepads();if(e)for(var t=this.gamepads,s=0;s<e.length;s++){var n=e[s];if(n){var a=n.id,d=n.index,h=t[d];if(h)h.id!==a?(h.destroy(),t[d]=new i(this,n)):h.update(n);else{var r=new i(this,n);t[d]=r,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=r):this._pad3=r:this._pad2=r:this._pad1=r}}}else this.disconnectAll()},getAll:function(){for(var e=[],t=this.gamepads,s=0;s<t.length;s++)t[s]&&e.push(t[s]);return e},getPad:function(e){for(var t=this.gamepads,s=0;s<t.length;s++)if(t[s]&&t[s].index===e)return t[s]},update:function(){if(this.enabled){this.refreshPads();var e=this.queue.length;if(0!==e)for(var t=this.queue.splice(0,e),i=0;i<e;i++){var n=t[i],a=this.getPad(n.gamepad.index);\"gamepadconnected\"===n.type?this.emit(s.CONNECTED,a,n):\"gamepaddisconnected\"===n.type&&this.emit(s.DISCONNECTED,a,n)}}},shutdown:function(){this.stopListeners(),this.disconnectAll(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var e=0;e<this.gamepads.length;e++)this.gamepads[e]&&this.gamepads[e].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});a.register(\"GamepadPlugin\",h,\"gamepad\",\"gamepad\",\"inputGamepad\"),module.exports=h;"},"sourceMaps":null,"error":null,"hash":"884520838429a957301a7a5fbe8b3fd7","cacheData":{"env":{}}}