{"id":"Zr4H","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"../BaseSound","loc":{"line":8,"column":24},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/sound/html5/HTML5AudioSound.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/sound/BaseSound.js"},{"name":"../../utils/Class","loc":{"line":9,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/sound/html5/HTML5AudioSound.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"../events","loc":{"line":10,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/sound/html5/HTML5AudioSound.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/sound/events/index.js"}],"generated":{"js":"var t=require(\"../BaseSound\"),i=require(\"../../utils/Class\"),e=require(\"../events\"),s=new i({Extends:t,initialize:function(i,e,s){void 0===s&&(s={}),this.tags=i.game.cache.audio.get(e),this.tags?(this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,t.call(this,i,e,s)):console.warn(\"Audio cache entry missing: \"+e)},play:function(i,s){return!this.manager.isLocked(this,\"play\",[i,s])&&(!!t.prototype.play.call(this,i,s)&&(!!this.pickAndPlayAudioTag()&&(this.emit(e.PLAY,this),!0)))},pause:function(){return!this.manager.isLocked(this,\"pause\")&&(!(this.startTime>0)&&(!!t.prototype.pause.call(this)&&(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(e.PAUSE,this),!0)))},resume:function(){return!this.manager.isLocked(this,\"resume\")&&(!(this.startTime>0)&&(!!t.prototype.resume.call(this)&&(!!this.pickAndPlayAudioTag()&&(this.emit(e.RESUME,this),!0))))},stop:function(){return!this.manager.isLocked(this,\"stop\")&&(!!t.prototype.stop.call(this)&&(this.stopAndReleaseAudioTag(),this.emit(e.STOP,this),!0))},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var t=this.currentConfig.seek,i=this.currentConfig.delay,e=(this.currentMarker?this.currentMarker.start:0)+t;return this.previousTime=e,this.audio.currentTime=e,this.applyConfig(),0===i?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+1e3*i,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var t=0;t<this.tags.length;t++){var i=this.tags[t];if(\"false\"===i.dataset.used)return i.dataset.used=\"true\",this.audio=i,!0}if(!this.manager.override)return!1;var e=[];this.manager.forEachActiveSound(function(t){t.key===this.key&&t.audio&&e.push(t)},this),e.sort(function(t,i){return t.loop===i.loop?i.seek/i.duration-t.seek/t.duration:t.loop?1:-1});var s=e[0];return this.audio=s.audio,s.reset(),s.audio=null,s.startTime=0,s.previousTime=0,!0},playCatchPromise:function(){var t=this.audio.play();t&&t.catch(function(t){console.warn(t)})},stopAndReleaseAudioTag:function(){this.audio.pause(),this.audio.dataset.used=\"false\",this.audio=null,this.startTime=0,this.previousTime=0},reset:function(){t.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(t,i){if(this.isPlaying)if(this.startTime>0)this.startTime<t-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,t-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());else{var s=this.currentMarker?this.currentMarker.start:0,r=s+this.duration,a=this.audio.currentTime;if(this.currentConfig.loop)a>=r-this.manager.loopEndOffset?(this.audio.currentTime=s+Math.max(0,a-r),a=this.audio.currentTime):a<s&&(this.audio.currentTime+=s,a=this.audio.currentTime),a<this.previousTime&&this.emit(e.LOOPED,this);else if(a>=r)return this.reset(),this.stopAndReleaseAudioTag(),void this.emit(e.COMPLETE,this);this.previousTime=a}},destroy:function(){t.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=this.currentConfig.volume*this.manager.volume)},calculateRate:function(){t.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(t){this.currentConfig.mute=t,this.manager.isLocked(this,\"mute\",t)||(this.updateMute(),this.emit(e.MUTE,this,t))}},setMute:function(t){return this.mute=t,this},volume:{get:function(){return this.currentConfig.volume},set:function(t){this.currentConfig.volume=t,this.manager.isLocked(this,\"volume\",t)||(this.updateVolume(),this.emit(e.VOLUME,this,t))}},setVolume:function(t){return this.volume=t,this},rate:{get:function(){return this.currentConfig.rate},set:function(t){this.currentConfig.rate=t,this.manager.isLocked(this,e.RATE,t)||(this.calculateRate(),this.emit(e.RATE,this,t))}},setRate:function(t){return this.rate=t,this},detune:{get:function(){return this.currentConfig.detune},set:function(t){this.currentConfig.detune=t,this.manager.isLocked(this,e.DETUNE,t)||(this.calculateRate(),this.emit(e.DETUNE,this,t))}},setDetune:function(t){return this.detune=t,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(t){this.manager.isLocked(this,\"seek\",t)||this.startTime>0||(this.isPlaying||this.isPaused)&&(t=Math.min(Math.max(0,t),this.duration),this.isPlaying?(this.previousTime=t,this.audio.currentTime=t):this.isPaused&&(this.currentConfig.seek=t),this.emit(e.SEEK,this,t))}},setSeek:function(t){return this.seek=t,this},loop:{get:function(){return this.currentConfig.loop},set:function(t){this.currentConfig.loop=t,this.manager.isLocked(this,\"loop\",t)||(this.audio&&(this.audio.loop=t),this.emit(e.LOOP,this,t))}},setLoop:function(t){return this.loop=t,this}});module.exports=s;"},"sourceMaps":null,"error":null,"hash":"6547c9f8aa6d5383e967c59ddb6c01ce","cacheData":{"env":{}}}