{"id":"zFOA","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"../utils/Class","loc":{"line":7,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"./const","loc":{"line":8,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/const.js"},{"name":"eventemitter3","loc":{"line":9,"column":27},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/eventemitter3/index.js"},{"name":"./events","loc":{"line":10,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/events/index.js"},{"name":"../core/events","loc":{"line":11,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/core/events/index.js"},{"name":"./keyboard/KeyboardManager","loc":{"line":12,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardManager.js"},{"name":"./mouse/MouseManager","loc":{"line":13,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/mouse/MouseManager.js"},{"name":"./Pointer","loc":{"line":14,"column":22},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/Pointer.js"},{"name":"./touch/TouchManager","loc":{"line":15,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/touch/TouchManager.js"},{"name":"../gameobjects/components/TransformMatrix","loc":{"line":16,"column":30},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/components/TransformMatrix.js"},{"name":"../math/TransformXY","loc":{"line":17,"column":26},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputManager.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/math/TransformXY.js"}],"generated":{"js":"var t=require(\"../utils/Class\"),e=require(\"./const\"),s=require(\"eventemitter3\"),i=require(\"./events\"),a=require(\"../core/events\"),o=require(\"./keyboard/KeyboardManager\"),n=require(\"./mouse/MouseManager\"),r=require(\"./Pointer\"),h=require(\"./touch/TouchManager\"),u=require(\"../gameobjects/components/TransformMatrix\"),l=require(\"../math/TransformXY\"),c=new t({initialize:function(t,e){this.game=t,this.scaleManager,this.canvas,this.config=e,this.enabled=!0,this.events=new s,this.queue=[],this.domCallbacks={up:[],down:[],move:[],upOnce:[],downOnce:[],moveOnce:[]},this.isOver=!0,this._hasUpCallback=!1,this._hasDownCallback=!1,this._hasMoveCallback=!1,this._customCursor=\"\",this._setCursor=0,this.defaultCursor=\"\",this.keyboard=e.inputKeyboard?new o(this):null,this.mouse=e.inputMouse?new n(this):null,this.touch=e.inputTouch?new h(this):null,this.pointers=[],this.pointersTotal=e.inputActivePointers,e.inputTouch&&1===this.pointersTotal&&(this.pointersTotal=2);for(var i=0;i<=this.pointersTotal;i++){var l=new r(this,i);l.smoothFactor=e.inputSmoothFactor,this.pointers.push(l)}this.mousePointer=e.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.dirty=!1,this.globalTopOnly=!0,this.ignoreEvents=!1,this.useQueue=e.inputQueue,this.time=0,this._updatedThisFrame=!1,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new u,this._tempMatrix2=new u,t.events.once(a.BOOT,this.boot,this)},boot:function(){this.canvas=this.game.canvas,this.scaleManager=this.game.scale,this.events.emit(i.MANAGER_BOOT),this.useQueue?this.game.events.on(a.PRE_STEP,this.legacyUpdate,this):this.game.events.on(a.PRE_STEP,this.preStep,this),this.game.events.on(a.POST_STEP,this.postUpdate,this),this.game.events.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(t){this.isOver=!0,this.events.emit(i.GAME_OVER,t)},setCanvasOut:function(t){this.isOver=!1,this.events.emit(i.GAME_OUT,t)},update:function(t){this._updatedThisFrame||(this._setCursor=0,this._updatedThisFrame=!0),this.events.emit(i.MANAGER_UPDATE),this.ignoreEvents=!1,this.dirty=!0;for(var e=this.pointers,s=0;s<this.pointersTotal;s++)e[s].reset(t)},preStep:function(t){this.time=t},legacyUpdate:function(t){var s;this.time=t,this._setCursor=0,this.events.emit(i.MANAGER_UPDATE),this.ignoreEvents=!1,this.dirty=!1;var a=this.queue.length,o=this.pointers;for(s=0;s<this.pointersTotal;s++)o[s].reset(t);if(this.enabled&&0!==a){this.dirty=!0;var n=this.queue.splice(0,a),r=this.mousePointer;for(s=0;s<a;s+=2){var h=n[s],u=n[s+1];switch(h){case e.MOUSE_DOWN:r.down(u,t);break;case e.MOUSE_MOVE:r.move(u,t);break;case e.MOUSE_UP:r.up(u,t);break;case e.TOUCH_START:this.startPointer(u,t);break;case e.TOUCH_MOVE:this.updatePointer(u,t);break;case e.TOUCH_END:this.stopPointer(u,t);break;case e.TOUCH_CANCEL:this.cancelPointer(u,t);break;case e.POINTER_LOCK_CHANGE:this.events.emit(i.POINTERLOCK_CHANGE,u,this.mouse.locked)}}for(s=0;s<this.pointersTotal;s++)o[s].updateMotion()}else for(s=0;s<this.pointersTotal;s++)o[s].updateMotion()},postUpdate:function(){1===this._setCursor?this.canvas.style.cursor=this._customCursor:2===this._setCursor&&(this.canvas.style.cursor=this.defaultCursor),this.dirty=!1,this._updatedThisFrame=!1},setDefaultCursor:function(t){this.defaultCursor=t,this.canvas.style.cursor!==t&&(this.canvas.style.cursor=t)},setCursor:function(t){t.cursor&&(this._setCursor=1,this._customCursor=t.cursor)},resetCursor:function(t){t.cursor&&(this._setCursor=2)},startPointer:function(t,e){for(var s=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var o=t.changedTouches[a],n=1;n<this.pointersTotal;n++){var r=s[n];if(!r.active){r.touchstart(o,e),this.activePointer=r,i.push(r);break}}return i},updatePointer:function(t,e){for(var s=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var o=t.changedTouches[a],n=1;n<this.pointersTotal;n++){var r=s[n];if(r.active&&r.identifier===o.identifier){r.touchmove(o,e),this.activePointer=r,i.push(r);break}}return i},stopPointer:function(t,e){for(var s=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var o=t.changedTouches[a],n=1;n<this.pointersTotal;n++){var r=s[n];if(r.active&&r.identifier===o.identifier){r.touchend(o,e),i.push(r);break}}return i},cancelPointer:function(t,e){for(var s=this.pointers,i=[],a=0;a<t.changedTouches.length;a++)for(var o=t.changedTouches[a],n=1;n<this.pointersTotal;n++){var r=s[n];if(r.active&&r.identifier===o.identifier){r.touchend(o,e),i.push(r);break}}return i},addPointer:function(t){void 0===t&&(t=1);var e=[];this.pointersTotal+t>10&&(t=10-this.pointersTotal);for(var s=0;s<t;s++){var i=this.pointers.length,a=new r(this,i);a.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(a),this.pointersTotal++,e.push(a)}return e},processDomCallbacks:function(t,e,s){var i=0;for(i=0;i<t.length;i++)t[i](s);for(i=0;i<e.length;i++)e[i](s);return e.length>0},updateInputPlugins:function(t,e){for(var s=this.game.scene.getScenes(!0,!0),i=0;i<s.length;i++){var a=s[i];a.sys.input&&a.sys.input.update(t,e)}},queueTouchStart:function(t){if(this.useQueue){if(this.queue.push(e.TOUCH_START,t),this._hasDownCallback){var s=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(s.downOnce,s.down,t),s.downOnce=[]}}else if(this.enabled){this.update(t.timeStamp),this.startPointer(t,t.timeStamp).forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta)}},queueTouchMove:function(t){if(this.useQueue){if(this.queue.push(e.TOUCH_MOVE,t),this._hasMoveCallback){var s=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(s.moveOnce,s.move,t),s.moveOnce=[]}}else if(this.enabled){this.update(t.timeStamp),this.updatePointer(t,t.timeStamp).forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta)}},queueTouchEnd:function(t){if(this.useQueue){if(this.queue.push(e.TOUCH_END,t),this._hasUpCallback){var s=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(s.upOnce,s.up,t),s.upOnce=[]}}else if(this.enabled){this.update(t.timeStamp),this.stopPointer(t,t.timeStamp).forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta)}},queueTouchCancel:function(t){if(this.useQueue)this.queue.push(e.TOUCH_CANCEL,t);else if(this.enabled){this.update(t.timeStamp),this.cancelPointer(t,t.timeStamp).forEach(function(t){t.updateMotion()}),this.updateInputPlugins(t.timeStamp,this.game.loop.delta)}},queueMouseDown:function(t){if(this.useQueue){if(this.queue.push(e.MOUSE_DOWN,t),this._hasDownCallback){var s=this.domCallbacks;this._hasDownCallback=this.processDomCallbacks(s.downOnce,s.down,t),s.downOnce=[]}}else this.enabled&&(this.update(t.timeStamp),this.mousePointer.down(t,t.timeStamp),this.mousePointer.updateMotion(),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueMouseMove:function(t){if(this.useQueue){if(this.queue.push(e.MOUSE_MOVE,t),this._hasMoveCallback){var s=this.domCallbacks;this._hasMoveCallback=this.processDomCallbacks(s.moveOnce,s.move,t),s.moveOnce=[]}}else this.enabled&&(this.update(t.timeStamp),this.mousePointer.move(t,t.timeStamp),this.mousePointer.updateMotion(),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},queueMouseUp:function(t){if(this.useQueue){if(this.queue.push(e.MOUSE_UP,t),this._hasUpCallback){var s=this.domCallbacks;this._hasUpCallback=this.processDomCallbacks(s.upOnce,s.up,t),s.upOnce=[]}}else this.enabled&&(this.update(t.timeStamp),this.mousePointer.up(t,t.timeStamp),this.mousePointer.updateMotion(),this.updateInputPlugins(t.timeStamp,this.game.loop.delta))},addUpCallback:function(t,e){return void 0===e&&(e=!0),e?this.domCallbacks.upOnce.push(t):this.domCallbacks.up.push(t),this._hasUpCallback=!0,this},addDownCallback:function(t,e){return void 0===e&&(e=!0),e?this.domCallbacks.downOnce.push(t):this.domCallbacks.down.push(t),this._hasDownCallback=!0,this},addMoveCallback:function(t,e){return void 0===e&&(e=!1),e?this.domCallbacks.moveOnce.push(t):this.domCallbacks.move.push(t),this._hasMoveCallback=!0,this},inputCandidate:function(t,e){var s=t.input;if(!s||!s.enabled||!t.willRender(e))return!1;var i=!0,a=t.parentContainer;if(a)do{if(!a.willRender(e)){i=!1;break}a=a.parentContainer}while(a);return i},hitTest:function(t,e,s,i){void 0===i&&(i=this._tempHitTest);var a=this._tempPoint,o=s.scrollX,n=s.scrollY;i.length=0;var r=t.x,h=t.y;1!==s.resolution&&(r+=s._x,h+=s._y),s.getWorldPoint(r,h,a),t.worldX=a.x,t.worldY=a.y;for(var u={x:0,y:0},c=this._tempMatrix,p=this._tempMatrix2,d=0;d<e.length;d++){var m=e[d];if(this.inputCandidate(m,s)){var v=a.x+o*m.scrollFactorX-o,f=a.y+n*m.scrollFactorY-n;m.parentContainer?(m.getWorldTransformMatrix(c,p),c.applyInverse(v,f,u)):l(v,f,m.x,m.y,m.rotation,m.scaleX,m.scaleY,u),this.pointWithinHitArea(m,u.x,u.y)&&i.push(m)}}return i},pointWithinHitArea:function(t,e,s){e+=t.displayOriginX,s+=t.displayOriginY;var i=t.input;return!(!i||!i.hitAreaCallback(i.hitArea,e,s,t))&&(i.localX=e,i.localY=s,!0)},pointWithinInteractiveObject:function(t,e,s){return!!t.hitArea&&(e+=t.gameObject.displayOriginX,s+=t.gameObject.displayOriginY,t.localX=e,t.localY=s,t.hitAreaCallback(t.hitArea,e,s,t))},transformPointer:function(t,e,s,i){var a=t.position,o=t.prevPosition;o.x=a.x,o.y=a.y;var n=this.scaleManager.transformX(e),r=this.scaleManager.transformY(s),h=t.smoothFactor;i&&0!==h?(a.x=n*h+o.x*(1-h),a.y=r*h+o.y*(1-h)):(a.x=n,a.y=r)},destroy:function(){this.events.removeAllListeners(),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var t=0;t<this.pointers.length;t++)this.pointers[t].destroy();this.domCallbacks={},this.pointers=[],this.queue=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});module.exports=c;"},"sourceMaps":null,"error":null,"hash":"11c27c2daa8375a663512b128ef55e44","cacheData":{"env":{}}}