{"id":"Ixoc","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"../../display/canvas/CanvasPool","loc":{"line":7,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/display/canvas/CanvasPool.js"},{"name":"../../utils/Class","loc":{"line":8,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"../components","loc":{"line":9,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/components/index.js"},{"name":"../../const","loc":{"line":10,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/const.js"},{"name":"../GameObject","loc":{"line":11,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/GameObject.js"},{"name":"../../math/pow2/GetPowerOfTwo","loc":{"line":12,"column":28},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/math/pow2/GetPowerOfTwo.js"},{"name":"../../display/canvas/Smoothing","loc":{"line":13,"column":24},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/display/canvas/Smoothing.js"},{"name":"./TileSpriteRender","loc":{"line":14,"column":31},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSpriteRender.js"},{"name":"../../math/Vector2","loc":{"line":15,"column":22},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/tilesprite/TileSprite.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/math/Vector2.js"}],"generated":{"js":"var t=require(\"../../display/canvas/CanvasPool\"),i=require(\"../../utils/Class\"),e=require(\"../components\"),s=require(\"../../const\"),r=require(\"../GameObject\"),h=require(\"../../math/pow2/GetPowerOfTwo\"),l=require(\"../../display/canvas/Smoothing\"),n=require(\"./TileSpriteRender\"),a=require(\"../../math/Vector2\"),o=8,d=new i({Extends:r,Mixins:[e.Alpha,e.BlendMode,e.ComputedSize,e.Crop,e.Depth,e.Flip,e.GetBounds,e.Mask,e.Origin,e.Pipeline,e.ScaleMode,e.ScrollFactor,e.Tint,e.Transform,e.Visible,n],initialize:function(i,e,l,n,o,d,u){var c=i.sys.game.renderer;r.call(this,i,\"TileSprite\");var f=i.sys.textures.get(d),g=f.get(u);n&&o?(n=Math.floor(n),o=Math.floor(o)):(n=g.width,o=g.height),this._tilePosition=new a,this._tileScale=new a(1,1),this.dirty=!1,this.renderer=c,this.canvas=t.create(this,n,o),this.context=this.canvas.getContext(\"2d\"),this.displayTexture=f,this.displayFrame=g,this._crop=this.resetCropObject(),this.texture=i.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.potWidth=h(g.width),this.potHeight=h(g.height),this.fillCanvas=t.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext(\"2d\"),this.fillPattern=null,this.setPosition(e,l),this.setSize(n,o),this.setFrame(u),this.setOriginFromFrame(),this.initPipeline(),i.sys.game.config.renderType===s.WEBGL&&i.sys.game.renderer.onContextRestored(function(t){var i=t.gl;this.dirty=!0,this.fillPattern=null,this.fillPattern=t.createTexture2D(0,i.LINEAR,i.LINEAR,i.REPEAT,i.REPEAT,i.RGBA,this.fillCanvas,this.potWidth,this.potHeight)},this)},setTexture:function(t,i){return this.displayTexture=this.scene.sys.textures.get(t),this.setFrame(i)},setFrame:function(t){return this.displayFrame=this.displayTexture.get(t),this.displayFrame.cutWidth&&this.displayFrame.cutHeight?this.renderFlags|=o:this.renderFlags&=~o,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(t,i){return void 0!==t&&(this.tilePositionX=t),void 0!==i&&(this.tilePositionY=i),this},setTileScale:function(t,i){return void 0===t&&(t=this.tileScaleX),void 0===i&&(i=t),this.tileScaleX=t,this.tileScaleY=i,this},updateTileTexture:function(){if(this.dirty&&this.renderer){var t=this.displayFrame,i=this.fillContext,e=this.fillCanvas,s=this.potWidth,r=this.potHeight;this.renderer.gl||(s=t.cutWidth,r=t.cutHeight),i.clearRect(0,0,s,r),e.width=s,e.height=r,i.drawImage(t.source.image,t.cutX,t.cutY,t.cutWidth,t.cutHeight,0,0,s,r),this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(e,this.fillPattern):this.fillPattern=i.createPattern(e,\"repeat\"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var t=this.canvas;if(t.width===this.width&&t.height===this.height||(t.width=this.width,t.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl)this.dirty=!1;else{var i=this.context;this.scene.sys.game.config.antialias||l.disable(i);var e=this._tileScale.x,s=this._tileScale.y,r=this._tilePosition.x,h=this._tilePosition.y;i.clearRect(0,0,this.width,this.height),i.save(),i.scale(e,s),i.translate(-r,-h),i.fillStyle=this.fillPattern,i.fillRect(r,h,this.width/e,this.height/s),i.restore(),this.dirty=!1}},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),t.remove(this.canvas),t.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null,this.texture.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(t){this._tilePosition.x=t,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(t){this._tilePosition.y=t,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(t){this._tileScale.x=t,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(t){this._tileScale.y=t,this.dirty=!0}}});module.exports=d;"},"sourceMaps":null,"error":null,"hash":"b0b304981e08cfa625e689ecb93907dc","cacheData":{"env":{}}}