{"id":"vCkb","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"./Body","loc":{"line":7,"column":19},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/Body.js"},{"name":"../../utils/Class","loc":{"line":8,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"./COLLIDES","loc":{"line":9,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/COLLIDES.js"},{"name":"./CollisionMap","loc":{"line":10,"column":27},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/CollisionMap.js"},{"name":"eventemitter3","loc":{"line":11,"column":27},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/eventemitter3/index.js"},{"name":"./events","loc":{"line":12,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/events/index.js"},{"name":"../../utils/object/GetFastValue","loc":{"line":13,"column":27},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/object/GetFastValue.js"},{"name":"../../utils/object/HasValue","loc":{"line":14,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/object/HasValue.js"},{"name":"../../structs/Set","loc":{"line":15,"column":18},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/structs/Set.js"},{"name":"./Solver","loc":{"line":16,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/Solver.js"},{"name":"../../tilemaps/Formats","loc":{"line":17,"column":30},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/tilemaps/Formats.js"},{"name":"./TYPE","loc":{"line":18,"column":19},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/World.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/physics/impact/TYPE.js"}],"generated":{"js":"var e=require(\"./Body\"),t=require(\"../../utils/Class\"),i=require(\"./COLLIDES\"),s=require(\"./CollisionMap\"),l=require(\"eventemitter3\"),o=require(\"./events\"),r=require(\"../../utils/object/GetFastValue\"),n=require(\"../../utils/object/HasValue\"),a=require(\"../../structs/Set\"),h=require(\"./Solver\"),c=require(\"../../tilemaps/Formats\"),u=require(\"./TYPE\"),d=new t({Extends:l,initialize:function(e,t){l.call(this),this.scene=e,this.bodies=new a,this.gravity=r(t,\"gravity\",0),this.cellSize=r(t,\"cellSize\",64),this.collisionMap=new s,this.timeScale=r(t,\"timeScale\",1),this.maxStep=r(t,\"maxStep\",.05),this.enabled=!0,this.drawDebug=r(t,\"debug\",!1),this.debugGraphic;var i=r(t,\"maxVelocity\",100);if(this.defaults={debugShowBody:r(t,\"debugShowBody\",!0),debugShowVelocity:r(t,\"debugShowVelocity\",!0),bodyDebugColor:r(t,\"debugBodyColor\",16711935),velocityDebugColor:r(t,\"debugVelocityColor\",65280),maxVelocityX:r(t,\"maxVelocityX\",i),maxVelocityY:r(t,\"maxVelocityY\",i),minBounceVelocity:r(t,\"minBounceVelocity\",40),gravityFactor:r(t,\"gravityFactor\",1),bounciness:r(t,\"bounciness\",0)},this.walls={left:null,right:null,top:null,bottom:null},this.delta=0,this._lastId=0,r(t,\"setBounds\",!1)){var o=t.setBounds;if(\"boolean\"==typeof o)this.setBounds();else{var n=r(o,\"x\",0),h=r(o,\"y\",0),c=r(o,\"width\",e.sys.scale.width),u=r(o,\"height\",e.sys.scale.height),d=r(o,\"thickness\",64),f=r(o,\"left\",!0),p=r(o,\"right\",!0),g=r(o,\"top\",!0),v=r(o,\"bottom\",!0);this.setBounds(n,h,c,u,d,f,p,g,v)}}this.drawDebug&&this.createDebugGraphic()},setCollisionMap:function(e,t){if(\"string\"==typeof e){var i=this.scene.cache.tilemap.get(e);if(!i||i.format!==c.WELTMEISTER)return console.warn(\"The specified key does not correspond to a Weltmeister tilemap: \"+e),null;for(var l,o=i.data.layer,r=0;r<o.length;r++)if(\"collision\"===o[r].name){l=o[r];break}void 0===t&&(t=l.tilesize),this.collisionMap=new s(t,l.data)}else Array.isArray(e)?this.collisionMap=new s(t,e):console.warn(\"Invalid Weltmeister collision map data: \"+e);return this.collisionMap},setCollisionMapFromTilemapLayer:function(e,t){void 0===t&&(t={});for(var i=r(t,\"slopeProperty\",null),l=r(t,\"slopeMap\",null),o=r(t,\"defaultCollidingSlope\",null),a=r(t,\"defaultNonCollidingSlope\",0),h=e.layer,c=h.baseTileWidth,u=[],d=0;d<h.height;d++){u[d]=[];for(var f=0;f<h.width;f++){var p=h.data[d][f];p&&p.collides?null!==i&&n(p.properties,i)?u[d][f]=parseInt(p.properties[i],10):null!==l&&n(l,p.index)?u[d][f]=l[p.index]:u[d][f]=null!==o?o:p.index:u[d][f]=a}}return this.collisionMap=new s(c,u),this.collisionMap},setBounds:function(e,t,i,s,l,o,r,n,a){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=this.scene.sys.scale.width),void 0===s&&(s=this.scene.sys.scale.height),void 0===l&&(l=64),void 0===o&&(o=!0),void 0===r&&(r=!0),void 0===n&&(n=!0),void 0===a&&(a=!0),this.updateWall(o,\"left\",e-l,t,l,s),this.updateWall(r,\"right\",e+i,t,l,s),this.updateWall(n,\"top\",e,t-l,i,l),this.updateWall(a,\"bottom\",e,t+s,i,l),this},updateWall:function(e,t,s,l,o,r){var n=this.walls[t];e?n?n.resetSize(s,l,o,r):(this.walls[t]=this.create(s,l,o,r),this.walls[t].name=t,this.walls[t].gravityFactor=0,this.walls[t].collides=i.FIXED):(n&&this.bodies.remove(n),this.walls[t]=null)},createDebugGraphic:function(){var e=this.scene.sys.add.graphics({x:0,y:0});return e.setDepth(Number.MAX_VALUE),this.debugGraphic=e,this.drawDebug=!0,e},getNextID:function(){return this._lastId++},create:function(t,i,s,l){var o=new e(this,t,i,s,l);return this.bodies.set(o),o},remove:function(e){this.bodies.delete(e)},pause:function(){return this.enabled=!1,this.emit(o.PAUSE),this},resume:function(){return this.enabled=!0,this.emit(o.RESUME),this},update:function(e,t){if(this.enabled&&0!==this.bodies.size){var i,s,l=Math.min(t/1e3,this.maxStep)*this.timeScale;this.delta=l;var o=this.bodies.entries,r=o.length,n={},a=this.cellSize;for(i=0;i<r;i++)(s=o[i]).enabled&&s.update(l);for(i=0;i<r;i++)(s=o[i])&&!s.skipHash()&&this.checkHash(s,n,a);if(this.drawDebug){var h=this.debugGraphic;for(h.clear(),i=0;i<r;i++)(s=o[i])&&s.willDrawDebug()&&s.drawDebug(h)}}},checkHash:function(e,t,i){for(var s={},l=Math.floor(e.pos.x/i),o=Math.floor(e.pos.y/i),r=Math.floor((e.pos.x+e.size.x)/i)+1,n=Math.floor((e.pos.y+e.size.y)/i)+1,a=l;a<r;a++)for(var h=o;h<n;h++)if(t[a])if(t[a][h]){for(var c=t[a][h],u=0;u<c.length;u++)e.touches(c[u])&&!s[c[u].id]&&(s[c[u].id]=!0,this.checkBodies(e,c[u]));c.push(e)}else t[a][h]=[e];else t[a]={},t[a][h]=[e]},checkBodies:function(e,t){e.collides===i.FIXED&&t.collides===i.FIXED||(e.checkAgainst&t.type&&e.check(t),t.checkAgainst&e.type&&t.check(e),e.collides&&t.collides&&e.collides+t.collides>i.ACTIVE&&h(this,e,t))},setCollidesNever:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.NEVER;return this},setLite:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.LITE;return this},setPassive:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.PASSIVE;return this},setActive:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.ACTIVE;return this},setFixed:function(e){for(var t=0;t<e.length;t++)e[t].collides=i.FIXED;return this},setTypeNone:function(e){for(var t=0;t<e.length;t++)e[t].type=u.NONE;return this},setTypeA:function(e){for(var t=0;t<e.length;t++)e[t].type=u.A;return this},setTypeB:function(e){for(var t=0;t<e.length;t++)e[t].type=u.B;return this},setAvsB:function(e){for(var t=0;t<e.length;t++)e[t].type=u.A,e[t].checkAgainst=u.B;return this},setBvsA:function(e){for(var t=0;t<e.length;t++)e[t].type=u.B,e[t].checkAgainst=u.A;return this},setCheckAgainstNone:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=u.NONE;return this},setCheckAgainstA:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=u.A;return this},setCheckAgainstB:function(e){for(var t=0;t<e.length;t++)e[t].checkAgainst=u.B;return this},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners(),this.scene=null,this.bodies.clear(),this.bodies=null,this.collisionMap=null}});module.exports=d;"},"sourceMaps":null,"error":null,"hash":"cfc3fefff7cd142d60fc10c9c95d3453","cacheData":{"env":{}}}