{"id":"SZum","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"../../utils/Class","loc":{"line":7,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"eventemitter3","loc":{"line":8,"column":27},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/eventemitter3/index.js"},{"name":"./events","loc":{"line":9,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/events/index.js"},{"name":"../../core/events","loc":{"line":10,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/core/events/index.js"},{"name":"../../utils/object/GetValue","loc":{"line":11,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/object/GetValue.js"},{"name":"../events","loc":{"line":12,"column":26},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/events/index.js"},{"name":"../InputPluginCache","loc":{"line":13,"column":31},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/InputPluginCache.js"},{"name":"./keys/Key","loc":{"line":14,"column":18},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/keys/Key.js"},{"name":"./keys/KeyCodes","loc":{"line":15,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/keys/KeyCodes.js"},{"name":"./combo/KeyCombo","loc":{"line":16,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/combo/KeyCombo.js"},{"name":"./keys/KeyMap","loc":{"line":17,"column":21},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/keys/KeyMap.js"},{"name":"../../math/snap/SnapFloor","loc":{"line":18,"column":24},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/input/keyboard/KeyboardPlugin.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/math/snap/SnapFloor.js"}],"generated":{"js":"var e=require(\"../../utils/Class\"),t=require(\"eventemitter3\"),n=require(\"./events\"),i=require(\"../../core/events\"),s=require(\"../../utils/object/GetValue\"),r=require(\"../events\"),a=require(\"../InputPluginCache\"),u=require(\"./keys/Key\"),o=require(\"./keys/KeyCodes\"),h=require(\"./combo/KeyCombo\"),c=require(\"./keys/KeyMap\"),l=require(\"../../math/snap/SnapFloor\"),d=new e({Extends:t,initialize:function(e){t.call(this),this.game=e.systems.game,this.scene=e.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=e,this.manager=e.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],e.pluginEvents.once(r.BOOT,this.boot,this),e.pluginEvents.on(r.START,this.start,this)},boot:function(){var e=this.settings.input;this.enabled=s(e,\"keyboard\",!0);var t=s(e,\"keyboard.capture\",null);t&&this.addCaptures(t),this.sceneInputPlugin.pluginEvents.once(r.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.on(r.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.on(r.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(r.SHUTDOWN,this.shutdown,this),this.game.events.on(i.BLUR,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},addCapture:function(e){return this.manager.addCapture(e),this},removeCapture:function(e){return this.manager.removeCapture(e),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:o.UP,down:o.DOWN,left:o.LEFT,right:o.RIGHT,space:o.SPACE,shift:o.SHIFT})},addKeys:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i={};if(\"string\"==typeof e){e=e.split(\",\");for(var s=0;s<e.length;s++){var r=e[s].trim();r&&(i[r]=this.addKey(r,t,n))}}else for(var a in e)i[a]=this.addKey(e[a],t,n);return i},addKey:function(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!1);var i=this.keys;if(e instanceof u){var s=i.indexOf(e);return s>-1?i[s]=e:i[e.keyCode]=e,t&&this.addCapture(e.keyCode),e.setEmitOnRepeat(n),e}return\"string\"==typeof e&&(e=o[e.toUpperCase()]),i[e]||(i[e]=new u(e),t&&this.addCapture(e),i[e].setEmitOnRepeat(n)),i[e]},removeKey:function(e){var t=this.keys;if(e instanceof u){var n=t.indexOf(e);n>-1&&(this.keys[n]=void 0)}else\"string\"==typeof e&&(e=o[e.toUpperCase()]);return t[e]&&(t[e]=void 0),this},createCombo:function(e,t){return new h(this,e,t)},checkDown:function(e,t){if(this.enabled&&e.isDown){var n=l(this.time-e.timeDown,t);if(n>e._tick)return e._tick=n,!0}return!1},update:function(){var e=this.manager.queue,t=e.length;if(this.isActive()&&0!==t)for(var i=this.keys,s=0;s<t;s++){var r=e[s],a=r.keyCode,u=i[a],o=!1;void 0===r.cancelled&&(r.cancelled=0,r.stopImmediatePropagation=function(){r.cancelled=1},r.stopPropagation=function(){r.cancelled=-1}),-1!==r.cancelled&&(\"keydown\"===r.type?(u&&(o=u.isDown,u.onDown(r)),r.cancelled||u&&o||(c[a]&&(this.emit(n.KEY_DOWN+c[a],r),this.emit(\"keydown_\"+c[a],r)),r.cancelled||this.emit(n.ANY_KEY_DOWN,r))):(u&&u.onUp(r),r.cancelled||(c[a]&&(this.emit(n.KEY_UP+c[a],r),this.emit(\"keyup_\"+c[a],r)),r.cancelled||this.emit(n.ANY_KEY_UP,r))),1===r.cancelled&&(r.cancelled=0))}},resetKeys:function(){for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].reset();return this},shutdown:function(){this.resetKeys(),this.sceneInputPlugin.manager.useQueue?this.sceneInputPlugin.pluginEvents.off(r.UPDATE,this.update,this):this.sceneInputPlugin.manager.events.off(r.MANAGER_PROCESS,this.update,this),this.game.events.off(i.BLUR,this.resetKeys),this.removeAllListeners(),this.queue=[]},destroy:function(){this.shutdown();for(var e=this.keys,t=0;t<e.length;t++)e[t]&&e[t].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});a.register(\"KeyboardPlugin\",d,\"keyboard\",\"keyboard\",\"inputKeyboard\"),module.exports=d;"},"sourceMaps":null,"error":null,"hash":"d1bc81e8bc3991c7a19b9b7634d4310f","cacheData":{"env":{}}}