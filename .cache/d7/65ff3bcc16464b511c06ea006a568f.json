{"id":"CBp4","dependencies":[{"name":"/Users/julia/Documents/GitHub/N-3KO/package.json","includedInParent":true,"mtime":1557756471451},{"name":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/package.json","includedInParent":true,"mtime":1557756490182},{"name":"../../../dom/AddToDOM","loc":{"line":7,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/dom/AddToDOM.js"},{"name":"../../../display/canvas/CanvasPool","loc":{"line":8,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/display/canvas/CanvasPool.js"},{"name":"../../../utils/Class","loc":{"line":9,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/Class.js"},{"name":"../../components","loc":{"line":10,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/components/index.js"},{"name":"../../../const","loc":{"line":11,"column":20},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/const.js"},{"name":"../../GameObject","loc":{"line":12,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/GameObject.js"},{"name":"../GetTextSize","loc":{"line":13,"column":26},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/GetTextSize.js"},{"name":"../../../utils/object/GetValue","loc":{"line":14,"column":23},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/utils/object/GetValue.js"},{"name":"../../../dom/RemoveFromDOM","loc":{"line":15,"column":28},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/dom/RemoveFromDOM.js"},{"name":"./TextRender","loc":{"line":16,"column":25},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/TextRender.js"},{"name":"../TextStyle","loc":{"line":17,"column":24},"parent":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/static/Text.js","resolved":"/Users/julia/Documents/GitHub/N-3KO/node_modules/phaser/src/gameobjects/text/TextStyle.js"}],"generated":{"js":"var t=require(\"../../../dom/AddToDOM\"),e=require(\"../../../display/canvas/CanvasPool\"),i=require(\"../../../utils/Class\"),s=require(\"../../components\"),r=require(\"../../../const\"),n=require(\"../../GameObject\"),o=require(\"../GetTextSize\"),h=require(\"../../../utils/object/GetValue\"),a=require(\"../../../dom/RemoveFromDOM\"),l=require(\"./TextRender\"),d=require(\"../TextStyle\"),u=new i({Extends:n,Mixins:[s.Alpha,s.BlendMode,s.ComputedSize,s.Crop,s.Depth,s.Flip,s.GetBounds,s.Mask,s.Origin,s.Pipeline,s.ScaleMode,s.ScrollFactor,s.Tint,s.Transform,s.Visible,l],initialize:function(t,i,s,o,h){void 0===i&&(i=0),void 0===s&&(s=0),n.call(this,t,\"Text\"),this.renderer=t.sys.game.renderer,this.setPosition(i,s),this.setOrigin(0,0),this.initPipeline(),this.canvas=e.create(this),this.context=this.canvas.getContext(\"2d\"),this.style=new d(this,h),this.autoRound=!0,this.splitRegExp=/(?:\\r\\n|\\r|\\n)/,this._text=\"\",this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.dirty=!1,0===this.style.resolution&&(this.style.resolution=t.sys.game.config.resolution),this._crop=this.resetCropObject(),this.texture=t.sys.textures.addCanvas(null,this.canvas,!0),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),h&&h.padding&&this.setPadding(h.padding),h&&h.lineSpacing&&(this.lineSpacing=h.lineSpacing),this.setText(o),t.sys.game.config.renderType===r.WEBGL&&t.sys.game.renderer.onContextRestored(function(){this.dirty=!0},this)},initRTL:function(){this.style.rtl&&(this.canvas.dir=\"rtl\",this.context.direction=\"rtl\",this.canvas.style.display=\"none\",t(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(t){var e=this.style;if(e.wordWrapCallback){var i=e.wordWrapCallback.call(e.wordWrapCallbackScope,t,this);return Array.isArray(i)&&(i=i.join(\"\\n\")),i}return e.wordWrapWidth?e.wordWrapUseAdvanced?this.advancedWordWrap(t,this.context,this.style.wordWrapWidth):this.basicWordWrap(t,this.context,this.style.wordWrapWidth):t},advancedWordWrap:function(t,e,i){for(var s=\"\",r=t.replace(/ +/gi,\" \").split(this.splitRegExp),n=r.length,o=0;o<n;o++){var h=r[o],a=\"\";if(h=h.replace(/^ *|\\s*$/gi,\"\"),e.measureText(h).width<i)s+=h+\"\\n\";else{for(var l=i,d=h.split(\" \"),u=0;u<d.length;u++){var c=d[u],p=c+\" \",g=e.measureText(p).width;if(g>l){if(0===u){for(var f=p;f.length&&(f=f.slice(0,-1),!((g=e.measureText(f).width)<=l)););if(!f.length)throw new Error(\"This text's wordWrapWidth setting is less than a single character!\");var y=c.substr(f.length);d[u]=y,a+=f}var x=d[u].length?u:u+1,v=d.slice(x).join(\" \").replace(/[ \\n]*$/gi,\"\");r[o+1]=v+\" \"+(r[o+1]||\"\"),n=r.length;break}a+=p,l-=g}s+=a.replace(/[ \\n]*$/gi,\"\")+\"\\n\"}}return s=s.replace(/[\\s|\\n]*$/gi,\"\")},basicWordWrap:function(t,e,i){for(var s=\"\",r=t.split(this.splitRegExp),n=0;n<r.length;n++){for(var o=i,h=r[n].split(\" \"),a=0;a<h.length;a++){var l=e.measureText(h[a]).width,d=l+e.measureText(\" \").width;d>o?(a>0&&(s+=\"\\n\"),s+=h[a]+\" \",o=i-l):(o-=d,s+=h[a],a<h.length-1&&(s+=\" \"))}n<r.length-1&&(s+=\"\\n\")}return s},getWrappedText:function(t){return void 0===t&&(t=this._text),this.style.syncFont(this.canvas,this.context),this.runWordWrap(t).split(this.splitRegExp)},setText:function(t){return t||0===t||(t=\"\"),Array.isArray(t)&&(t=t.join(\"\\n\")),t!==this._text&&(this._text=t.toString(),this.updateText()),this},setStyle:function(t){return this.style.setStyle(t)},setFont:function(t){return this.style.setFont(t)},setFontFamily:function(t){return this.style.setFontFamily(t)},setFontSize:function(t){return this.style.setFontSize(t)},setFontStyle:function(t){return this.style.setFontStyle(t)},setFixedSize:function(t,e){return this.style.setFixedSize(t,e)},setBackgroundColor:function(t){return this.style.setBackgroundColor(t)},setFill:function(t){return this.style.setFill(t)},setColor:function(t){return this.style.setColor(t)},setStroke:function(t,e){return this.style.setStroke(t,e)},setShadow:function(t,e,i,s,r,n){return this.style.setShadow(t,e,i,s,r,n)},setShadowOffset:function(t,e){return this.style.setShadowOffset(t,e)},setShadowColor:function(t){return this.style.setShadowColor(t)},setShadowBlur:function(t){return this.style.setShadowBlur(t)},setShadowStroke:function(t){return this.style.setShadowStroke(t)},setShadowFill:function(t){return this.style.setShadowFill(t)},setWordWrapWidth:function(t,e){return this.style.setWordWrapWidth(t,e)},setWordWrapCallback:function(t,e){return this.style.setWordWrapCallback(t,e)},setAlign:function(t){return this.style.setAlign(t)},setResolution:function(t){return this.style.setResolution(t)},setLineSpacing:function(t){return this.lineSpacing=t,this.updateText()},setPadding:function(t,e,i,s){if(\"object\"==typeof t){var r=t,n=h(r,\"x\",null);null!==n?(t=n,i=n):(t=h(r,\"left\",0),i=h(r,\"right\",t));var o=h(r,\"y\",null);null!==o?(e=o,s=o):(e=h(r,\"top\",0),s=h(r,\"bottom\",e))}else void 0===t&&(t=0),void 0===e&&(e=t),void 0===i&&(i=t),void 0===s&&(s=e);return this.padding.left=t,this.padding.top=e,this.padding.right=i,this.padding.bottom=s,this.updateText()},setMaxLines:function(t){return this.style.setMaxLines(t)},updateText:function(){var t=this.canvas,e=this.context,i=this.style,s=i.resolution,r=i.metrics;i.syncFont(t,e);var n=this._text;(i.wordWrapWidth||i.wordWrapCallback)&&(n=this.runWordWrap(this._text));var h,a,l=n.split(this.splitRegExp),d=o(this,r,l),u=this.padding,c=d.width+u.left+u.right,p=d.height+u.top+u.bottom;0===i.fixedWidth&&(this.width=c),0===i.fixedHeight&&(this.height=p),this.updateDisplayOrigin(),c*=s,p*=s,c=Math.max(c,1),p=Math.max(p,1),t.width!==c||t.height!==p?(t.width=c,t.height=p,this.frame.setSize(c,p),i.syncFont(t,e)):e.clearRect(0,0,c,p),e.save(),e.scale(s,s),i.backgroundColor&&(e.fillStyle=i.backgroundColor,e.fillRect(0,0,c,p)),i.syncStyle(t,e),e.textBaseline=\"alphabetic\",e.translate(u.left,u.top);for(var g=0;g<d.lines;g++)h=i.strokeThickness/2,a=i.strokeThickness/2+g*d.lineHeight+r.ascent,g>0&&(a+=d.lineSpacing*g),i.rtl?h=c-h:\"right\"===i.align?h+=d.width-d.lineWidths[g]:\"center\"===i.align&&(h+=(d.width-d.lineWidths[g])/2),this.autoRound&&(h=Math.round(h),a=Math.round(a)),i.strokeThickness&&(this.style.syncShadow(e,i.shadowStroke),e.strokeText(l[g],h,a)),i.color&&(this.style.syncShadow(e,i.shadowFill),e.fillText(l[g],h,a));return e.restore(),this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(t,this.frame.source.glTexture,!0),this.frame.glTexture=this.frame.source.glTexture),this.dirty=!0,this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(t){this.setText(t)}},toJSON:function(){var t=s.ToJSON(this),e={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=e,t},preDestroy:function(){this.style.rtl&&a(this.canvas),e.remove(this.canvas),this.texture.destroy()}});module.exports=u;"},"sourceMaps":null,"error":null,"hash":"78767f2436909a505a762b95bccb433e","cacheData":{"env":{}}}